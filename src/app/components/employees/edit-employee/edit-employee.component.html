<div class="container mx-auto mt-8 px-4"> <!-- Added px-4 for spacing -->
  <!-- Icono "Editar empleado" y texto -->
  <div class="flex items-center mb-4"> <!-- Added mb-4 for spacing -->
    <i class='bx bxs-edit-alt text-4xl text-gray-600 mr-4'></i> <!-- Added mr-4 for spacing -->
    <h1 class="text-2xl font-bold">Editar empleado</h1>
  </div>

  <!-- Línea divisora -->
  <hr class="my-4 border border-gray-400 w-full"> <!-- Added w-full for spacing -->
 



  <form [formGroup]="employeeForm" (ngSubmit)="updateEmployee()">

    <div class="container mx-auto mt-8 px-8 lg:flex lg:flex-row flex-col"> <!-- Added lg:flex and flex-col classes -->
      <!-- Información personal -->
      <div class="flex-1 lg:mr-4 mb-4 lg:mb-0"> <!-- Adjusted margin for large screens -->
        <div class="border border-black p-4 rounded-lg bg-white">
          <h2 class="text-lg font-bold">Información personal</h2>
          <hr class="my-2 border-gray-400">

          <div class="mt-2">
            <label for="nombre" class="block">Nombre completo</label>
            <input type="text" id="name" formControlName="name"
              class="border border-gray-300 rounded-md p-2 w-full shadow-inner" placeholder="Nombre">

              <div *ngIf="employeeForm.get('name')?.invalid && employeeForm.get('name')?.touched">
                <span class="text-red-500">El nombre es inválido</span>
              </div>

          </div>
          <div class="mt-2">
            <label for="apellido" class="block">Apellido</label>
            <input type="text" id="surname" formControlName="surname"
              class="border border-gray-300 rounded-md p-2 w-full shadow-inner" placeholder="Apellidos">
              <div *ngIf="employeeForm.get('surname')?.invalid && employeeForm.get('surname')?.touched">
                <span class="text-red-500">El apellido es inválido</span>
              </div>

          </div>
          <div class="mt-2">
            <label for="fecha-nacimiento" class="block">Fecha de nacimiento</label>
            <input type="date" id="date_of_birth" formControlName="date_of_birth"
              class="border border-gray-300 rounded-md p-2 w-full shadow-inner" placeholder="Fecha de nacimiento">

              <div *ngIf="employeeForm.get('date_of_birth')?.invalid && employeeForm.get('date_of_birth')?.touched">
                <span class="text-red-500">Debes tener al menos 18 años.</span>
              </div>

          </div>
          <div class="mt-2">
            <label for="nacionalidad" class="block">Nacionalidad</label>
            <input type="text" id="nacionalidad" formControlName="country"
              class="border border-gray-300 rounded-md p-2 w-full shadow-inner" placeholder="Nacionalidad">
              <div *ngIf="employeeForm.get('country')?.invalid && employeeForm.get('country')?.touched">
                <span class="text-red-500">La nacionalidad es inválida</span>
              </div>

          </div>
          <div class="mt-2">
            <label for="genero" class="block">Género</label>
            <select id="genero" formControlName="gender"
              class="border border-gray-300 rounded-md p-2 w-full shadow-inner">
              <option value="" disabled selected>Seleccione su género</option>
              <option value="male">Masculino</option>
              <option value="female">Femenino</option>
            </select>

          </div>
          <div class="mt-2">
            <label for="email" class="block">Email</label>
            <input type="email" id="email" formControlName="email"
              class="border border-gray-300 rounded-md p-2 w-full shadow-inner" placeholder="Email">
              <div *ngIf="employeeForm.get('email')?.invalid && employeeForm.get('email')?.touched">
                <span class="text-red-500">El correo electrónico es inválido</span>
              </div>
          </div>
          <div class="mt-2">
            <label for="telefono" class="block">Teléfono</label>
            <input type="text" id="telephone" formControlName="telephone"
              class="border border-gray-300 rounded-md p-2 w-full shadow-inner" placeholder="Teléfono">

              <div *ngIf="employeeForm.get('telephone')?.invalid && employeeForm.get('telephone')?.touched">
                <span class="text-red-500">El formato del teléfono es inválido</span>
              </div>

          </div>


          <div class="mt-2">
            <label for="foto" class="block">Foto</label>
            <input type="file" id="photo" formControlName="photo" accept="image/*" class="mt-1">
            <div *ngIf="employeeData && employeeData.photo">
              <img [src]="employeeData.photo" alt="Foto de {{ employeeData.name }}" class="mt-2" style="max-width: 200px;">
            </div>

            <div *ngIf="employeeForm.get('photo')?.invalid && employeeForm.get('photo')?.touched">
              <p class="text-red-500">La extensión de la imagen no es válida. Solo se permiten archivos JPG, JPEG, PNG y GIF.</p>
            </div>

          </div>
        </div>
      </div>

      <!--  Direccion  y Credenciales -->
      <div class="flex-1 lg:ml-4"> <!-- Adjusted margin for large screens -->
        <div class="bg-white border border-black p-4 rounded-lg">
          <h2 class="text-lg font-bold">Direccion</h2>
          <hr class="my- border-gray-400">
          <div class="mt-2">
            <label for="direccion" class="block">Dirección</label>
            <input type="text" id="direccion" formControlName="street"
              class="border border-gray-300 rounded-md p-2 w-full shadow-inner mb-2" placeholder="Dirección">
          </div>
          <!-- <div class="mt-2">
            <label for="numero" class="block">Número</label>
            <input type="text" id="numero" formControlName="number"
              class="border border-gray-300 rounded-md p-2 w-full shadow-inner mb-2" placeholder="Número">

          </div> -->
          <div class="mt-2">
            <label for="ciudad" class="block">Ciudad</label>
            <input type="text" id="ciudad" formControlName="city"
              class="border border-gray-300 rounded-md p-2 w-full shadow-inner mb-2" placeholder="Ciudad">

          </div>

          <div class="mt-2">
            <label for="ciudad" class="block">Código Postal</label>
            <input type="text" id="cp" formControlName="postal_code"
              class="border border-gray-300 rounded-md p-2 w-full shadow-inner mb-2" placeholder="Código Postal">

          </div>
        </div>
        <br>
        <div class="bg-white border border-black p-4 rounded-lg">
          <h2 class="text-lg font-bold">Credenciales</h2>
          <hr class="my-2 border-gray-400">

          <div class="mt-4">
            <label for="nif" class="block">NIF</label>
            <input type="text" id="nif" formControlName="nif" appNifValidator
              class="border border-gray-300 rounded-md p-2 w-full shadow-inner" placeholder="12345678Z">
              <div
              *ngIf="employeeForm?.get('nif')?.invalid && (employeeForm?.get('nif')?.dirty || employeeForm?.get('nif')?.touched)"
              class="text-red-500 mt-2">Por favor, introduce un NIF válido.</div>


          </div>
          <div class="mt-5">
            <label for="password" class="block">Password</label>
            <input type="password" id="password" formControlName="password"
              class="border border-gray-300 rounded-md p-2 w-full shadow-inner" placeholder="Contraseña">



              <div *ngIf="employeeForm.get('password')?.invalid && employeeForm.get('password')?.touched">
                <span class="text-red-500">La contraseña debe tener al menos 8 caracteres, incluyendo al menos una letra mayúscula, una letra minúscula
                  y un número.</span>
              </div>

          </div>

        </div>
      </div>
    </div>

    <!-- Botón "Añadir Usuario" y "Cancelar"-->
    <div class="mt-8 mb-3 flex justify-center">
      <button type="submit" [disabled]="!formModified" class="bg-custom-500 text-white px-6 py-3 rounded-lg mr-4" >Editar</button>
      <button type="button" class="bg-gray-500 text-white px-6 py-3 rounded-lg" (click)="cancelEdit()">Cancelar</button>
    </div>




  </form>
</div>
